{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '50815858-7c7001d1260428c5ffea0900f'; // Зареєструвався на pixabay.com.Отримав унікальний ключ.\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport async function getImagesByQuery(query) {  //функція getImagesByQuery для роботи з Pixabay API через Axios.\n  const response = await axios.get(BASE_URL, {\n    params: { // параметри запиту, для отримання зображень\n      key: API_KEY,\n      q: query,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n    },\n  });\n\n  return response.data; // повертаю дані з відповіді API\n}\n","import SimpleLightbox from 'simplelightbox';  // імпорт бібліотеки simplelightbox\nimport 'simplelightbox/dist/simple-lightbox.min.css'; // імпорт стилів бібліотеки\n\nconst gallery = document.querySelector('.gallery'); // ел-т, куди додаватиметься галерея\nconst loader = document.querySelector('.loader');  // індикатор завантаження\n\nlet lightbox = new SimpleLightbox('.gallery a', { // ініціалізація Lightbox\n  captionsData: 'alt', // підписи до зображень(з alt)\n  captionDelay: 250,   // затримка підписів\n});\n\nexport function createGallery(images) { // ф-я для створення галереї\n  const markup = images // перебираю масив зображень\n    .map( \n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => ` \n        <li class=\"gallery-item\">\n          <a href=\"${largeImageURL}\">\n            <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n          </a>\n          <div>\n            <p>Likes: ${likes}</p>\n            <p>Views: ${views}</p>\n            <p>Comments: ${comments}</p>\n            <p>Downloads: ${downloads}</p>\n          </div>\n        </li>`\n    ) // розмітка\n    .join(''); // об'єдную в рядок\n\n  gallery.insertAdjacentHTML('beforeend', markup); // вставляю розмітку в галерею\n  lightbox.refresh(); // оновлюю lightbox  \n}\n\nexport function clearGallery() {  // ф-я для очищення галереї\n  gallery.innerHTML = ''; // очищаю галерею і \n}\n\nexport function showLoader() { // ф-я для показу індикатора завантаження\n  loader.classList.remove('hidden');  // видаляю клас\n}\n\nexport function hideLoader() { // ф-я для ховання індикатора завантаження\n  loader.classList.add('hidden'); // додаю классссс\n}\n","import './css/styles.css';   // підключаю свої стилі, щоб сторінка мала оформлення.\nimport './js/pixabay-api.js'; // підключаю модуль pixabay-api.js, де знаходиться функція для HTTP-запиту\nimport './js/render-functions.js';  // підключаю модуль render-functions.js, де зібрані функції для роботи з інтерфейсом.\n\nimport { getImagesByQuery } from './js/pixabay-api';  //беру функцію getImagesByQuery() для отримання картинок\nimport {\n  createGallery,  //  створює картки зображень\n  clearGallery,   //  створює картки зображень\n  showLoader,     // показує лоадер(індикатор завантаження)\n  hideLoader,     // ховає лоадер   \n} from './js/render-functions'; \n\nimport iziToast from 'izitoast';  // імпортую iziToast для показу помилок користувачу\nimport 'izitoast/dist/css/iziToast.min.css';  // імпортую стилі iziToast(підключаю)\n\nconst form = document.querySelector('.form'); // беру DOM-елемент моєї форми з класом .form, щоб додати обробник подій\n\nform.addEventListener('submit', async e => {\n  e.preventDefault(); // запобігаю перезавантаженню\n\n  const query = e.target.elements['search-text'].value.trim();  // отримую значення з поля вводу з класом search-text, видаляю пробіли(trim)\n\n  if (!query) {  // Якщо поле порожнє(користувач не ввів нічого) — показую попередження через iziToast\n    iziToast.warning({\n      message: 'Please enter a search query!',\n      position: 'topRight',\n    });\n    return;  // Якщо порожнє — виходжу з функції (return).\n  }\n// готую інтерфейс до нового пошуку:\n  clearGallery();  // очищаю галерею перед новим пошуком\n  showLoader();  // показую лоадер — показую користувачу, що зараз триває завантаження\n// запит до Pixabay:\n  try {\n    const data = await getImagesByQuery(query); //викликаю getImagesByQuery(query) — тобто надсилаю HTTP-запит.\n\n    if (data.hits.length === 0) { // Якщо масив картинок порожній — показую повідомлення через iziToast.\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n      return; // зупиняю виконання (бо нема що малювати)\n    }\n//створюю галерею\n    createGallery(data.hits); // Передаю масив зображень у функцію createGallery()-вона будує розмітку картинок на сторінці.\n  } catch (error) {  // обробляю помилки\n    iziToast.error({\n      message: 'Oops! Something went wrong.',  // показую помилку користувачу\n      position: 'topRight',\n    });\n  } finally {\n    hideLoader();  // ховаю лоадер після запиту, що завершився(успішно або ні)\n  }\n});\n"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","axios","gallery","loader","lightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","e","iziToast","data"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAiBC,EAAO,CAW5C,OAViB,MAAMC,EAAM,IAAIH,EAAU,CACzC,OAAQ,CACN,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACb,CACL,CAAG,GAEe,IAClB,CCdA,MAAME,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,qBAESL,CAAa;AAAA,wBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,wBAG1BC,CAAK;AAAA,wBACLC,CAAK;AAAA,2BACFC,CAAQ;AAAA,4BACPC,CAAS;AAAA;AAAA,cAGhC,EACA,KAAK,EAAE,EAEVb,EAAQ,mBAAmB,YAAaM,CAAM,EAC9CJ,EAAS,QAAO,CAClB,CAEO,SAASY,GAAe,CAC7Bd,EAAQ,UAAY,EACtB,CAEO,SAASe,GAAa,CAC3Bd,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASe,GAAa,CAC3Bf,EAAO,UAAU,IAAI,QAAQ,CAC/B,CCpCA,MAAMgB,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAU,MAAMC,GAAK,CACzCA,EAAE,eAAc,EAEhB,MAAMpB,EAAQoB,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OAErD,GAAI,CAACpB,EAAO,CACVqB,EAAS,QAAQ,CACf,QAAS,+BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDL,IACAC,IAEA,GAAI,CACF,MAAMK,EAAO,MAAMvB,EAAiBC,CAAK,EAEzC,GAAIsB,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UAClB,CAAO,EACD,MACD,CAEDf,EAAcgB,EAAK,IAAI,CACxB,MAAe,CACdD,EAAS,MAAM,CACb,QAAS,8BACT,SAAU,UAChB,CAAK,CACL,QAAY,CACRH,GACD,CACH,CAAC"}